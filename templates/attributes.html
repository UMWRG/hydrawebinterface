<form id="save-resource-attributes" action="#">
<input type="hidden" name="resource_id" value="{{resource_id}}"></input>
<input type="hidden" name="scenario_id" value="{{scenario_id}}"></input>
<input type="hidden" name="res_type" value="{{resource_type}}"></input>
<div class="menubar btn-group" role="group" aria-label="...">
{{resource.name}}
<button type="button" class="btn btn-xs btn-danger close-resource-data pull-right">
    <span class="glyphicon glyphicon-remove"></span>
</button>
</div>

<table type="table" class="table">
    {%for rs in resource_scenarios%}
            {%if rs.data_type%}
                {%set data_type = rs.data_type%}
            {%elif rs.dataset%}
                {%set data_type = rs.dataset.data_type%}
            {%else%}    
                {%set data_type = None%}
            {%endif%}
        <tr>
            <td>{{attr_id_name_map[rs.attr_id]}}</td>
            <td>
                <div class='dataset'>
                <input type="hidden" name="attr_id" value="{{rs.attr_id}}"></input>
                <input type="hidden" name="attr_name" value="{{attr_id_name_map[rs.attr_id]}}"></input>
                <input type="hidden" name="rs_id" value="{{rs.rs_id}}"></input>
                <input type="hidden" name="ra_id" value="{{rs.ra_id}}"></input>
                <input type="hidden" name="dataset_id" value="{{rs.dataset.dataset_id}}"></input>
                <input type="hidden" name="dataset_name" value="{{rs.dataset.data_name}}"></input>
                {%if data_type == "descriptor"%}
                    <input type="hidden" name="data_type" value="descriptor"></input>
                    <input type="text" name="value" value="{{rs.dataset.value}}" class="{{data_type}}"></input>
                {%elif data_type == "scalar"%}

                    <input type="hidden" name="data_type" value="scalar"></input>
                    <input type="number" name="value" value="{{rs.dataset.value}}" class="{{data_type}}"></input>
                {%elif data_type == "array"%}

                    <input type="hidden" name="data_type" value="array"></input>
                    <input type="hidden" name="value" value="rs.dataset.value" class="{{data_type}}"></input>
                {%elif data_type == "timeseries"%}

                    <input type="hidden" name="data_type" value="timeseries"></input>
                    <input type="hidden" name="value" value="{{rs.dataset.value}}"  class="{{data_type}}"></input>
                {%else%}
                    <input type="hidden" name="data_type" value="scalar"></input>
                    <input type="number" name="value" value="{{rs.dataset.value}}"  class="{{data_type}}"></input>
                {%endif%}
                </div>
            </td>
        </tr>
    {%endfor%}
</table>
</form>

<div class="btn-group" role="group" aria-label="...">
<button type="button" class="btn btn-danger close-resource-data">Close</button>
</div>
<div class="btn-group pull-right" role="group" aria-label="...">
<button type="button" class="btn btn-success save-resource-data">Save</button>
</div>
